// Non-MPL pipeline with the same functionality

// Configuration
CFG = [
  'agent_label': 'master',
  'docker.artifacts': 'target/petclinic.war',
  'selenium.maven_profile': 'selenium-tests',
  'selenium.target_url': 'http://target-host:8080/petclinic',
]

// Internal configuration
INT = [:]

pipeline {
  agent {
    label CFG.agent_label
  }
  options {
    skipDefaultCheckout(true)
  }
  stages {
    stage( 'Checkout' ) {
      steps {
        checkout scm
      }
    }
    stage( 'Build' ) {

    }
    stage( 'Deploy' ) {
    }
    stage( 'Test' ) {
    }
  }
  post {
    always {

    }
  }
}
